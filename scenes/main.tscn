[gd_scene load_steps=14 format=3 uid="uid://ceotix1oe2tmn"]

[ext_resource type="PackedScene" uid="uid://bnrg2y6yyfgwu" path="res://scenes/player.tscn" id="2_ai8jb"]
[ext_resource type="Texture2D" uid="uid://c2k0hh6xesjg0" path="res://textures/texture_dirt.png" id="3_jwtcg"]
[ext_resource type="PackedScene" uid="uid://c2ck80vy4f46t" path="res://scenes/stone.tscn" id="3_t7nwq"]
[ext_resource type="Texture2D" uid="uid://bh2bhd6y7nxl4" path="res://textures/texture_metal.png" id="3_y30bq"]
[ext_resource type="ArrayMesh" uid="uid://2tlmvv8wxdkr" path="res://objects/map_gazebo.obj" id="4_d48wb"]
[ext_resource type="PackedScene" uid="uid://c6jyho1f7gnqx" path="res://scenes/terrain.tscn" id="4_rt1hw"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_c4gcm"]
sky_top_color = Color(0.231373, 0.278431, 0.368627, 1)
sky_horizon_color = Color(0.34902, 0.403922, 0.462745, 1)
sky_curve = 0.102453
sky_energy_multiplier = 0.15
ground_bottom_color = Color(0.380392, 0.337255, 0.435294, 1)
ground_horizon_color = Color(0.380392, 0.32549, 0.505882, 1)
ground_curve = 0.054642
ground_energy_multiplier = 0.57
sun_angle_max = 62.61

[sub_resource type="Sky" id="Sky_ym1ly"]
sky_material = SubResource("ProceduralSkyMaterial_c4gcm")

[sub_resource type="Environment" id="Environment_c54g4"]
background_mode = 2
background_energy_multiplier = 0.49
sky = SubResource("Sky_ym1ly")
ambient_light_source = 3
ambient_light_color = Color(0.411765, 0.411765, 0.411765, 1)
ambient_light_sky_contribution = 0.91
ambient_light_energy = 2.44
reflected_light_source = 2
ssao_radius = 2.1
ssao_intensity = 4.24
ssao_power = 1.39955
ssao_horizon = 0.16
ssao_sharpness = 1.0
sdfgi_bounce_feedback = 0.43
sdfgi_min_cell_size = 4.39844
sdfgi_cascade0_distance = 281.5
sdfgi_max_distance = 4504.0
sdfgi_energy = 1.135
glow_intensity = 0.0
glow_strength = 0.41
glow_bloom = 0.3
glow_hdr_threshold = 0.0
glow_hdr_scale = 1.95
glow_hdr_luminance_cap = 18.8
glow_map_strength = 1.0
fog_enabled = true
fog_light_color = Color(0.203922, 0.470588, 0.462745, 1)
fog_light_energy = 0.17
fog_sun_scatter = 0.05
fog_density = 0.0429
fog_aerial_perspective = 0.061
fog_sky_affect = 0.007
volumetric_fog_enabled = true
volumetric_fog_density = 0.0405
volumetric_fog_albedo = Color(0.192157, 0.192157, 0.301961, 1)
volumetric_fog_emission = Color(0.631373, 0.32549, 0.560784, 1)
volumetric_fog_emission_energy = 0.1
volumetric_fog_gi_inject = 1.44
volumetric_fog_anisotropy = -0.15
volumetric_fog_length = 27.18
volumetric_fog_detail_spread = 1.03526
volumetric_fog_ambient_inject = 0.23
volumetric_fog_sky_affect = 0.431
volumetric_fog_temporal_reprojection_enabled = false
volumetric_fog_temporal_reprojection_amount = 0.903
adjustment_enabled = true
adjustment_brightness = 0.95
adjustment_contrast = 1.32
adjustment_saturation = 0.71

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_noxaa"]
albedo_color = Color(0.964706, 0.980392, 0.992157, 0)
albedo_texture = ExtResource("3_y30bq")
metallic = 0.09
roughness = 0.45
normal_scale = 16.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wt2ig"]
albedo_texture = ExtResource("3_jwtcg")

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_rpaxk"]
data = PackedVector3Array(-64, -16, 64, -64, -16, -64, -64, 16, 64, -64, 16, 64, -64, -16, -64, -64, 16, -64, -64, 16, 64, 64, 16, 64, -64, -16, 64, -64, -16, 64, 64, 16, 64, 64, -16, 64, -64, -16, 64, 64, -16, 64, -64, -16, -64, -64, -16, -64, 64, -16, 64, 64, -16, -64, -64, 16, -64, 64, 16, -64, -64, 16, 64, -64, 16, 64, 64, 16, -64, 64, 16, 64, -64, -16, -64, 64, -16, -64, -64, 16, -64, -64, 16, -64, 64, -16, -64, 64, 16, -64, 64, 16, 64, 64, 16, -64, 64, -16, 64, 64, -16, 64, 64, 16, -64, 64, -16, -64, -112, -16, 64, -112, -16, -64, -112, 16, 64, -112, 16, 64, -112, -16, -64, -112, 16, -64, -112, 16, 64, -64, 16, 64, -112, -16, 64, -112, -16, 64, -64, 16, 64, -64, -16, 64, -112, -16, 64, -64, -16, 64, -112, -16, -64, -112, -16, -64, -64, -16, 64, -64, -16, -64, -112, 16, -64, -64, 16, -64, -112, 16, 64, -112, 16, 64, -64, 16, -64, -64, 16, 64, -112, -16, -64, -64, -16, -64, -112, 16, -64, -112, 16, -64, -64, -16, -64, -64, 16, -64, -64, 16, 64, -64, 16, -64, -64, -16, 64, -64, -16, 64, -64, 16, -64, -64, -16, -64, -112, -16, -48, -112, -16, -112, -112, 16, -48, -112, 16, -48, -112, -16, -112, -112, 16, -112, -112, 16, -48, 64, 16, -48, -112, -16, -48, -112, -16, -48, 64, 16, -48, 64, -16, -48, -112, -16, -48, 64, -16, -48, -112, -16, -112, -112, -16, -112, 64, -16, -48, 64, -16, -112, -112, 16, -112, 64, 16, -112, -112, 16, -48, -112, 16, -48, 64, 16, -112, 64, 16, -48, -112, -16, -112, 64, -16, -112, -112, 16, -112, -112, 16, -112, 64, -16, -112, 64, 16, -112, 64, 16, -48, 64, 16, -112, 64, -16, -48, 64, -16, -48, 64, 16, -112, 64, -16, -112, -112, -16, 112, -112, -16, 64, -112, 16, 112, -112, 16, 112, -112, -16, 64, -112, 16, 64, -112, 16, 112, 112, 16, 112, -112, -16, 112, -112, -16, 112, 112, 16, 112, 112, -16, 112, -112, -16, 112, 112, -16, 112, -112, -16, 64, -112, -16, 64, 112, -16, 112, 112, -16, 64, -112, 16, 64, 112, 16, 64, -112, 16, 112, -112, 16, 112, 112, 16, 64, 112, 16, 112, -112, -16, 64, 112, -16, 64, -112, 16, 64, -112, 16, 64, 112, -16, 64, 112, 16, 64, 112, 16, 112, 112, 16, 64, 112, -16, 112, 112, -16, 112, 112, 16, 64, 112, -16, 64, 48, 16, 80, 48, 16, 48, 48, 112, 80, 48, 112, 80, 48, 16, 48, 48, 112, 48, 48, 112, 80, 80, 112, 80, 48, 16, 80, 48, 16, 80, 80, 112, 80, 80, 16, 80, 48, 16, 80, 80, 16, 80, 48, 16, 48, 48, 16, 48, 80, 16, 80, 80, 16, 48, 48, 112, 48, 80, 112, 48, 48, 112, 80, 48, 112, 80, 80, 112, 48, 80, 112, 80, 48, 16, 48, 80, 16, 48, 48, 112, 48, 48, 112, 48, 80, 16, 48, 80, 112, 48, 80, 112, 80, 80, 112, 48, 80, 16, 80, 80, 16, 80, 80, 112, 48, 80, 16, 48, -80, 16, 80, -80, 16, 48, -80, 112, 80, -80, 112, 80, -80, 16, 48, -80, 112, 48, -80, 112, 80, -48, 112, 80, -80, 16, 80, -80, 16, 80, -48, 112, 80, -48, 16, 80, -80, 16, 80, -48, 16, 80, -80, 16, 48, -80, 16, 48, -48, 16, 80, -48, 16, 48, -80, 112, 48, -48, 112, 48, -80, 112, 80, -80, 112, 80, -48, 112, 48, -48, 112, 80, -80, 16, 48, -48, 16, 48, -80, 112, 48, -80, 112, 48, -48, 16, 48, -48, 112, 48, -48, 112, 80, -48, 112, 48, -48, 16, 80, -48, 16, 80, -48, 112, 48, -48, 16, 48, -80, 16, -48, -80, 16, -80, -80, 112, -48, -80, 112, -48, -80, 16, -80, -80, 112, -80, -80, 112, -48, -48, 112, -48, -80, 16, -48, -80, 16, -48, -48, 112, -48, -48, 16, -48, -80, 16, -48, -48, 16, -48, -80, 16, -80, -80, 16, -80, -48, 16, -48, -48, 16, -80, -80, 112, -80, -48, 112, -80, -80, 112, -48, -80, 112, -48, -48, 112, -80, -48, 112, -48, -80, 16, -80, -48, 16, -80, -80, 112, -80, -80, 112, -80, -48, 16, -80, -48, 112, -80, -48, 112, -48, -48, 112, -80, -48, 16, -48, -48, 16, -48, -48, 112, -80, -48, 16, -80, 48, 16, -48, 48, 16, -80, 48, 112, -48, 48, 112, -48, 48, 16, -80, 48, 112, -80, 48, 112, -48, 80, 112, -48, 48, 16, -48, 48, 16, -48, 80, 112, -48, 80, 16, -48, 48, 16, -48, 80, 16, -48, 48, 16, -80, 48, 16, -80, 80, 16, -48, 80, 16, -80, 48, 112, -80, 80, 112, -80, 48, 112, -48, 48, 112, -48, 80, 112, -80, 80, 112, -48, 48, 16, -80, 80, 16, -80, 48, 112, -80, 48, 112, -80, 80, 16, -80, 80, 112, -80, 80, 112, -48, 80, 112, -80, 80, 16, -48, 80, 16, -48, 80, 112, -80, 80, 16, -80, 64, -16, 64, 64, -16, -112, 64, 16, 64, 64, 16, 64, 64, -16, -112, 64, 16, -112, 64, 16, 64, 112, 16, 64, 64, -16, 64, 64, -16, 64, 112, 16, 64, 112, -16, 64, 64, -16, 64, 112, -16, 64, 64, -16, -112, 64, -16, -112, 112, -16, 64, 112, -16, -112, 64, 16, -112, 112, 16, -112, 64, 16, 64, 64, 16, 64, 112, 16, -112, 112, 16, 64, 64, -16, -112, 112, -16, -112, 64, 16, -112, 64, 16, -112, 112, -16, -112, 112, 16, -112, 112, 16, 64, 112, 16, -112, 112, -16, 64, 112, -16, 64, 112, 16, -112, 112, -16, -112, -48, 96, -48, -48, 96, -80, -48, 112, -48, -48, 112, -48, -48, 96, -80, -48, 112, -80, -48, 112, -48, 48, 112, -48, -48, 96, -48, -48, 96, -48, 48, 112, -48, 48, 96, -48, -48, 96, -48, 48, 96, -48, -48, 96, -80, -48, 96, -80, 48, 96, -48, 48, 96, -80, -48, 112, -80, 48, 112, -80, -48, 112, -48, -48, 112, -48, 48, 112, -80, 48, 112, -48, -48, 96, -80, 48, 96, -80, -48, 112, -80, -48, 112, -80, 48, 96, -80, 48, 112, -80, 48, 112, -48, 48, 112, -80, 48, 96, -48, 48, 96, -48, 48, 112, -80, 48, 96, -80, -48, 96, 80, -48, 96, 48, -48, 112, 80, -48, 112, 80, -48, 96, 48, -48, 112, 48, -48, 112, 80, 48, 112, 80, -48, 96, 80, -48, 96, 80, 48, 112, 80, 48, 96, 80, -48, 96, 80, 48, 96, 80, -48, 96, 48, -48, 96, 48, 48, 96, 80, 48, 96, 48, -48, 112, 48, 48, 112, 48, -48, 112, 80, -48, 112, 80, 48, 112, 48, 48, 112, 80, -48, 96, 48, 48, 96, 48, -48, 112, 48, -48, 112, 48, 48, 96, 48, 48, 112, 48, 48, 112, 80, 48, 112, 48, 48, 96, 80, 48, 96, 80, 48, 112, 48, 48, 96, 48, -80, 96, 48, -80, 96, -48, -80, 112, 48, -80, 112, 48, -80, 96, -48, -80, 112, -48, -80, 112, 48, -48, 112, 48, -80, 96, 48, -80, 96, 48, -48, 112, 48, -48, 96, 48, -80, 96, 48, -48, 96, 48, -80, 96, -48, -80, 96, -48, -48, 96, 48, -48, 96, -48, -80, 112, -48, -48, 112, -48, -80, 112, 48, -80, 112, 48, -48, 112, -48, -48, 112, 48, -80, 96, -48, -48, 96, -48, -80, 112, -48, -80, 112, -48, -48, 96, -48, -48, 112, -48, -48, 112, 48, -48, 112, -48, -48, 96, 48, -48, 96, 48, -48, 112, -48, -48, 96, -48, 48, 96, 48, 48, 96, -48, 48, 112, 48, 48, 112, 48, 48, 96, -48, 48, 112, -48, 48, 112, 48, 80, 112, 48, 48, 96, 48, 48, 96, 48, 80, 112, 48, 80, 96, 48, 48, 96, 48, 80, 96, 48, 48, 96, -48, 48, 96, -48, 80, 96, 48, 80, 96, -48, 48, 112, -48, 80, 112, -48, 48, 112, 48, 48, 112, 48, 80, 112, -48, 80, 112, 48, 48, 96, -48, 80, 96, -48, 48, 112, -48, 48, 112, -48, 80, 96, -48, 80, 112, -48, 80, 112, 48, 80, 112, -48, 80, 96, 48, 80, 96, 48, 80, 112, -48, 80, 96, -48, -80, 16, -112, -80, 112, -112, -80, 16, -80, -80, 16, -80, -80, 112, -112, -80, 112, -80, -80, 16, -80, -80, 112, -80, 80, 16, -80, -80, 16, -80, 80, 16, -80, -80, 16, -112, -80, 16, -112, 80, 16, -80, 80, 16, -112, -80, 16, -112, 80, 16, -112, -80, 112, -112, -80, 112, -80, -80, 112, -112, 80, 16, -80, 80, 16, -80, -80, 112, -112, 80, 16, -112, -112, 96, -16, -112, 96, -112, -112, 112, -16, -112, 112, -16, -112, 96, -112, -112, 112, -112, -112, 112, -16, -80, 112, -16, -112, 96, -16, -112, 96, -16, -80, 112, -16, -80, 96, -16, -112, 96, -16, -80, 96, -16, -112, 96, -112, -112, 96, -112, -80, 96, -16, -80, 96, -112, -112, 112, -112, -80, 112, -112, -112, 112, -16, -112, 112, -16, -80, 112, -112, -80, 112, -16, -112, 96, -112, -80, 96, -112, -112, 112, -112, -112, 112, -112, -80, 96, -112, -80, 112, -112, -80, 112, -16, -80, 112, -112, -80, 96, -16, -80, 96, -16, -80, 112, -112, -80, 96, -112, -112, 96, 80, -112, 96, -16, -112, 112, 80, -112, 112, 80, -112, 96, -16, -112, 112, -16, -112, 112, 80, -80, 112, 80, -112, 96, 80, -112, 96, 80, -80, 112, 80, -80, 96, 80, -112, 96, 80, -80, 96, 80, -112, 96, -16, -112, 96, -16, -80, 96, 80, -80, 96, -16, -112, 112, -16, -80, 112, -16, -112, 112, 80, -112, 112, 80, -80, 112, -16, -80, 112, 80, -112, 96, -16, -80, 96, -16, -112, 112, -16, -112, 112, -16, -80, 96, -16, -80, 112, -16, -80, 112, 80, -80, 112, -16, -80, 96, 80, -80, 96, 80, -80, 112, -16, -80, 96, -16)

[sub_resource type="PlaneMesh" id="PlaneMesh_1b4um"]

[node name="world" type="Node3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 31.9243, 0)

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.955793, -0.249903, 0.154946, 0, 0.526956, 0.849893, -0.29404, 0.812321, -0.503661, 0, 0, 0)
light_color = Color(0.541176, 0.278431, 0.368627, 1)
light_energy = 13.5
shadow_enabled = true
directional_shadow_split_1 = 0.893
directional_shadow_split_2 = 0.907
directional_shadow_split_3 = 0.479
directional_shadow_fade_start = 0.681
directional_shadow_max_distance = 241.5
directional_shadow_pancake_size = 18.5

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_c54g4")

[node name="terrain" parent="." instance=ExtResource("4_rt1hw")]

[node name="level_1" type="Node3D" parent="terrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 4.83624, 0)

[node name="stone" parent="terrain/level_1" instance=ExtResource("3_t7nwq")]
transform = Transform3D(1.248, 0, 0, 0, 1.248, 0, 0, 0, 1.248, 12.917, 162.066, -3.3166)

[node name="stone2" parent="terrain/level_1" instance=ExtResource("3_t7nwq")]
transform = Transform3D(1.248, 0, 0, 0, 1.248, 0, 0, 0, 1.248, 15.0394, 162.066, -23.0088)

[node name="stone3" parent="terrain/level_1" instance=ExtResource("3_t7nwq")]
transform = Transform3D(1.248, 0, 0, 0, 1.248, 0, 0, 0, 1.248, -7.54845, 162.066, -4.10352)

[node name="level_2" type="Node3D" parent="terrain"]
transform = Transform3D(0.115, 0, 0, 0, 0.035, 0, 0, 0, 0.085, 64.7748, 132.949, -26.4504)

[node name="MeshInstance3D" type="MeshInstance3D" parent="terrain/level_2"]
transform = Transform3D(-1.53652, 0, 1.09195, 0, 7.145, 0, -1.09195, 0, -1.53652, 0, 856.832, -5.133)
material_override = SubResource("StandardMaterial3D_noxaa")
cast_shadow = 0
mesh = ExtResource("4_d48wb")
surface_material_override/0 = SubResource("StandardMaterial3D_wt2ig")

[node name="StaticBody3D" type="StaticBody3D" parent="terrain/level_2/MeshInstance3D"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="terrain/level_2/MeshInstance3D/StaticBody3D"]
transform = Transform3D(1, 0, 2.98023e-08, 0, 1, 0, 0, 0, 1, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_rpaxk")

[node name="SpotLight3D" type="SpotLight3D" parent="terrain/level_2"]
transform = Transform3D(8.69565, 0, 0, 0, 0.345033, 28.5693, 0, -11.7638, 0.142072, 0, 3113.8, 0)
light_energy = 8.091
light_indirect_energy = 3.273
light_volumetric_fog_energy = 3.181
light_size = 0.095
light_specular = 2.5
spot_range = 190.05
spot_attenuation = 0.933033
spot_angle = 24.01
spot_angle_attenuation = 1.93187

[node name="MeshInstance3D2" type="MeshInstance3D" parent="terrain/level_2"]
transform = Transform3D(803.545, 0, 0, 0, 7.995, 0, 0, 0, 397.95, -12.694, 1952.46, -0.11)
visible = false
transparency = 1.0
mesh = SubResource("PlaneMesh_1b4um")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="terrain/level_2"]
transform = Transform3D(592.995, 0, 0, 0, 10, 0, 0, 0, 500.295, -8.14063, 4364.09, -0.109985)
visible = false
transparency = 1.0
mesh = SubResource("PlaneMesh_1b4um")

[node name="player" parent="." instance=ExtResource("2_ai8jb")]
transform = Transform3D(-0.331898, 0, -0.943315, 0, 1, 0, 0.943315, 0, -0.331898, -11.1692, 162.817, -5.74338)
wall_min_slide_angle = 1.28805
floor_stop_on_slope = false
floor_block_on_wall = false
